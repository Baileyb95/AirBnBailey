{"ast":null,"code":"import React,{useState,useEffect}from'react';import Header from'./Header';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Bookings=()=>{const[bookings,setBookings]=useState([]);useEffect(()=>{fetch(\"http://127.0.0.1:5000/user/\".concat(localStorage.getItem('id'),\"/bookings\")).then(response=>response.json()).then(data=>{setBookings(data);}).catch(error=>{console.error('Error fetching property bookings:',error);});},[]);const handleDeleteListing=listingId=>{fetch(\"http://127.0.0.1:5000/user/\".concat(localStorage.getItem('id'),\"/bookings/\").concat(listingId),{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:localStorage.getItem('id'),listing_id:listingId})}).then(response=>response.json()).then(data=>{console.log(data);setBookings(bookings.filter(booking=>booking.id!==listingId));}).catch(error=>{console.error('Error deleting property listing:',error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-semibold mb-4\",children:\"Bookings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:bookings.map(booking=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-lg rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/rentals/\".concat(booking.listing.id),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-2\",children:booking.listing.title}),/*#__PURE__*/_jsx(\"img\",{src:booking.listing.image_url,alt:\"rental property\",className:\"w-full h-48 object-cover mb-2\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",booking.listing.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Address: \",booking.listing.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"City: \",booking.listing.city]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"State: \",booking.listing.state]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Zip Code: \",booking.listing.zip_code]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Country: \",booking.listing.country]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",booking.listing.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Check-in: \",booking.check_in]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Check-out: \",booking.check_out]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteListing(booking.id),className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mt-2\",children:\"Delete\"})]},String(booking.id)))})]})]});};export default Bookings;","map":{"version":3,"names":["React","useState","useEffect","Header","Link","jsx","_jsx","jsxs","_jsxs","Bookings","bookings","setBookings","fetch","concat","localStorage","getItem","then","response","json","data","catch","error","console","handleDeleteListing","listingId","method","headers","body","JSON","stringify","user_id","listing_id","log","filter","booking","id","className","children","map","to","listing","title","src","image_url","alt","description","address","city","state","zip_code","country","price","check_in","check_out","onClick","String"],"sources":["/Users/baileybell/development/code/phase-5/AirBnBailey/client/src/pages/BookingPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport { Link } from 'react-router-dom';\n\nconst Bookings = () => {\n  const [bookings, setBookings] = useState([]);\n\n  useEffect(() => {\n    fetch(`http://127.0.0.1:5000/user/${localStorage.getItem('id')}/bookings`)\n      .then((response) => response.json())\n      .then((data) => {\n        setBookings(data);\n      })\n      .catch((error) => {\n        console.error('Error fetching property bookings:', error);\n      });\n  }, []);\n\n  const handleDeleteListing = (listingId) => {\n    fetch(`http://127.0.0.1:5000/user/${localStorage.getItem('id')}/bookings/${listingId}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        user_id: localStorage.getItem('id'),\n        listing_id: listingId,\n      }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        setBookings(bookings.filter((booking) => booking.id !== listingId));\n      })\n      .catch((error) => {\n        console.error('Error deleting property listing:', error);\n      });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <Header />\n      <div className=\"container mx-auto p-4\">\n        <h1 className=\"text-3xl font-semibold mb-4\">Bookings</h1>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {bookings.map((booking) => (\n            <div key={String(booking.id)} className=\"bg-white shadow-lg rounded-lg p-4\">\n              <Link to={`/rentals/${booking.listing.id}`}>\n              <h2 className=\"text-lg font-semibold mb-2\">{booking.listing.title}</h2>\n              <img\n                src={booking.listing.image_url}\n                alt=\"rental property\"\n                className=\"w-full h-48 object-cover mb-2\"\n              />\n               </Link>             \n              <p>Description: {booking.listing.description}</p>\n              <p>Address: {booking.listing.address}</p>\n              <p>City: {booking.listing.city}</p>\n              <p>State: {booking.listing.state}</p>\n              <p>Zip Code: {booking.listing.zip_code}</p>\n              <p>Country: {booking.listing.country}</p>\n              <p>Price: {booking.listing.price}</p>\n              <p>Check-in: {booking.check_in}</p>\n              <p>Check-out: {booking.check_out}</p>\n              <button onClick={() => handleDeleteListing(booking.id)} className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 mt-2\">\n                Delete\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Bookings;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}