{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const[formData,setFormData]=useState({email:'',password:''});const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=e=>{e.preventDefault();// Send login data to the backend\nfetch('/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)}).then(response=>{if(response.status===200){response.json().then(data=>{localStorage.id=data.id;});// Login was successful, redirect to the dashboard\nnavigate('/dashboard');}else if(response.status===401){// Unauthorized login\nsetError('Email or password is incorrect. Please try again.');}else{// Handle other login errors\nsetError('An error occurred during login. Please try again later.');}}).catch(error=>{// Handle fetch error\nconsole.error('Login error:',error);setError('An error occurred during login. Please try again later.');});};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 mb-4\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true,className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true,className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring focus:border-blue-500\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-blue-500\",children:\"Register\"})]})]})});};export default LoginPage;","map":{"version":3,"names":["React","useState","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginPage","formData","setFormData","email","password","error","setError","navigate","handleChange","e","name","value","target","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","status","json","data","localStorage","id","catch","console","className","children","onSubmit","htmlFor","type","onChange","required","to"],"sources":["/Users/baileybell/development/code/phase-5/AirBnBailey/client/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\n\nconst LoginPage = () => {\n    const [formData, setFormData] = useState({\n        email: '',\n        password: '',\n    });\n    const [error, setError] = useState('');\n\n    const navigate = useNavigate();\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData({ ...formData, [name]: value });\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        // Send login data to the backend\n        fetch('/login', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(formData),\n        })\n        .then(response => {\n            if (response.status === 200) {\n                response.json().then(data => {localStorage.id = data.id});\n                // Login was successful, redirect to the dashboard\n                navigate('/dashboard');\n            } else if (response.status === 401) {\n                // Unauthorized login\n                setError('Email or password is incorrect. Please try again.');\n            } else {\n                // Handle other login errors\n                setError('An error occurred during login. Please try again later.');\n            }\n        })\n        .catch(error => {\n            // Handle fetch error\n            console.error('Login error:', error);\n            setError('An error occurred during login. Please try again later.');\n        });\n    };\n\n    return (\n        <div className=\"flex justify-center items-center h-screen\">\n            <div className=\"bg-white rounded-lg shadow-lg p-8\">\n                <h2 className=\"text-2xl font-semibold mb-4\">Login</h2>\n                {error && <p className=\"text-red-500 mb-4\">{error}</p>}\n                <form onSubmit={handleSubmit}>\n                    <div className=\"mb-4\">\n                        <label htmlFor=\"email\" className=\"block\">Email:</label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            value={formData.email}\n                            onChange={handleChange}\n                            required\n                            className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring focus:border-blue-500\"\n                        />\n                    </div>\n                    <div className=\"mb-4\">\n                        <label htmlFor=\"password\" className=\"block\">Password:</label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            value={formData.password}\n                            onChange={handleChange}\n                            required\n                            className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring focus:border-blue-500\"\n                        />\n                    </div>\n                    <button type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">\n                        Login\n                    </button>\n                </form>\n                <p className=\"mt-4\">Don't have an account? <Link to=\"/register\" className=\"text-blue-500\">Register</Link></p>\n            </div>\n        </div>\n    );\n};\n\nexport default LoginPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}