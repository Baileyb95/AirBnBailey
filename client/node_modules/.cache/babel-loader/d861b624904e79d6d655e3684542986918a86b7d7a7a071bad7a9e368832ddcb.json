{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Header from\"./Header\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Favorites=()=>{const[favorites,setFavorites]=useState([]);useEffect(()=>{fetch(\"http://127.0.0.1:5000/favorites/\".concat(localStorage.getItem('id'))).then(response=>response.json()).then(data=>{setFavorites(data);}).catch(error=>{console.error('Error fetching property favorites:',error);});},[]);const handleDeleteFavorite=listingId=>{fetch(\"http://127.0.0.1:5000/favorites/\".concat(localStorage.getItem('id'),\"/\").concat(listingId),{method:'DELETE',headers:{'Content-Type':'application/json'}}).then(response=>response.json()).then(data=>{// After successful deletion, you should update the state to remove the deleted favorite\nsetFavorites(favorites.filter(favorite=>favorite.id!==listingId));}).catch(error=>{console.error('Error deleting property favorite:',error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 md:w-2/5 lg:w-1/3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:\"Favorites\"}),favorites.map(favorite=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4 mb-4\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/rentals/\".concat(favorite.id),children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:favorite.title}),favorite.image_url&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:favorite.image_url,alt:\"Listing\",className:\"mb-2 rounded-lg w-160 h-100 object-cover\"// Adjust the width and height here\n})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Description: \",favorite.description]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Address: \",favorite.address]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"City: \",favorite.city]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"State: \",favorite.state]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Zip Code: \",favorite.zip_code]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Price: \",favorite.price]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteFavorite(favorite.id),className:\"bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600\",children:\"Delete\"})]},favorite.id))]})]});};export default Favorites;","map":{"version":3,"names":["React","useState","useEffect","Header","Link","jsx","_jsx","jsxs","_jsxs","Favorites","favorites","setFavorites","fetch","concat","localStorage","getItem","then","response","json","data","catch","error","console","handleDeleteFavorite","listingId","method","headers","filter","favorite","id","children","className","map","to","title","image_url","src","alt","description","address","city","state","zip_code","price","onClick"],"sources":["/Users/baileybell/development/code/phase-5/AirBnBailey/client/src/pages/Favorites.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport { Link } from \"react-router-dom\";\n\nconst Favorites = () => {\n  const [favorites, setFavorites] = useState([]);\n\n  useEffect(() => {\n    fetch(`http://127.0.0.1:5000/favorites/${localStorage.getItem('id')}`)\n      .then((response) => response.json())\n      .then((data) => {\n        setFavorites(data);\n      })\n      .catch((error) => {\n        console.error('Error fetching property favorites:', error);\n      });\n  }, []);\n\n  const handleDeleteFavorite = (listingId) => {\n    fetch(`http://127.0.0.1:5000/favorites/${localStorage.getItem('id')}/${listingId}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // After successful deletion, you should update the state to remove the deleted favorite\n        setFavorites(favorites.filter((favorite) => favorite.id !== listingId));\n      })\n      .catch((error) => {\n        console.error('Error deleting property favorite:', error);\n      });\n  };\n\n  return (\n    <div>\n      <Header />\n      <div className=\"p-4 md:w-2/5 lg:w-1/3\">\n        <h1 className=\"text-2xl font-bold mb-4\">Favorites</h1>\n        {favorites.map((favorite) => (\n          <div key={favorite.id} className=\"bg-white rounded-lg shadow-md p-4 mb-4\">\n            <Link to={`/rentals/${favorite.id}`}>\n              <h2 className=\"text-xl font-semibold mb-2\">{favorite.title}</h2>\n              {favorite.image_url && (\n                <div>\n                  <img\n                    src={favorite.image_url}\n                    alt=\"Listing\"\n                    className=\"mb-2 rounded-lg w-160 h-100 object-cover\" // Adjust the width and height here\n                  />\n                </div>\n              )}\n            </Link>\n            <p className=\"text-gray-600\">Description: {favorite.description}</p>\n            <p className=\"text-gray-600\">Address: {favorite.address}</p>\n            <p className=\"text-gray-600\">City: {favorite.city}</p>\n            <p className=\"text-gray-600\">State: {favorite.state}</p>\n            <p className=\"text-gray-600\">Zip Code: {favorite.zip_code}</p>\n            <p className=\"text-gray-600\">Price: {favorite.price}</p>\n            <button\n              onClick={() => handleDeleteFavorite(favorite.id)}\n              className=\"bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600\"\n            >\n              Delete\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Favorites;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}